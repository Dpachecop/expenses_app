# Gu铆a de Desarrollo y Contribuci贸n para ZenFi 锔

隆Bienvenido al equipo de ZenFi! Este documento es la gu铆a esencial para entender nuestra metodolog铆a de trabajo, la arquitectura del proyecto y las convenciones que seguimos. El objetivo es mantener un desarrollo 谩gil, consistente y de alta calidad.

## 1. Metodolog铆a de Trabajo gil

Trabajamos bajo un marco de metodolog铆as 谩giles para asegurar entregas de valor continuas y una r谩pida adaptaci贸n a los cambios.

* **Herramienta de Gesti贸n**: Utilizamos **GitHub Projects** para la gesti贸n de tareas y el seguimiento del progreso. Cada tarea, funcionalidad o error debe tener su correspondiente *issue* en el tablero.
* **Sprints Semanales**: Nuestro ciclo de desarrollo se organiza en Sprints de una semana. Al inicio de cada semana, se planifican las tareas del Sprint y al final, se revisa el progreso.
* **Flujo de Ramas (Git Flow)**: La rama `main` es sagrada. **Nunca se debe trabajar directamente sobre ella**. Todo el desarrollo se realiza en ramas separadas que luego se integran a trav茅s de Pull Requests.

## 2. Dominio y Prop贸sito de la Aplicaci贸n

**ZenFi** es una aplicaci贸n m贸vil para iOS y Android, desarrollada en Flutter, dise帽ada para la gesti贸n de finanzas personales. Su objetivo es permitir a los usuarios registrar sus ingresos y gastos de una manera simple, visual y eficiente.

Las entidades principales del dominio son:

* **`Transaction`**: Representa una transacci贸n financiera (ingreso o gasto) con sus atributos: `id`, `name`, `description`, `amount`, `type`, `date` y una `category` asociada.
* **`Category`**: Representa una categor铆a para clasificar las transacciones (ej: "Comida", "Salario") con sus atributos: `id`, `name`, `iconCodePoint` y `colorValue`.

## 3. Arquitectura del Proyecto: Clean Architecture

ZenFi sigue los principios de **Arquitectura Limpia** para garantizar un c贸digo desacoplado, escalable, testeable y f谩cil de mantener. El c贸digo est谩 organizado en las siguientes capas principales, yendo desde las reglas de negocio m谩s abstractas hasta los detalles de implementaci贸n m谩s concretos.



lib/
 config/         # 锔 Configuraci贸n transversal (rutas, DI, tema)
 domain/         #  L贸gica de negocio pura (entidades, interfaces)
 infrastructure/ #  Implementaciones concretas (acceso a datos)
 presentation/   #  UI y gesti贸n de estado (pantallas, widgets, providers)


#### `domain` (El N煤cleo)
* **Responsabilidad**: Contiene la l贸gica de negocio y las reglas de la aplicaci贸n. Es la capa m谩s interna y no debe depender de ninguna otra.
* **Componentes**:
    * `entities`: Objetos de negocio puros (`Transaction`, `Category`).
    * `repositories`: Interfaces (contratos abstractos) que definen c贸mo se debe acceder a los datos (`ITransactionRepository`).
    * `use_cases`: Clases que orquestan la l贸gica para una acci贸n espec铆fica (`AddTransaction`).

#### `infrastructure` (La Implementaci贸n)
* **Responsabilidad**: Implementa los contratos definidos en la capa `domain`. Se encarga de los detalles t茅cnicos del acceso a datos.
* **Componentes**:
    * `datasources`: La fuente de datos concreta. En nuestro caso, `IsarDatasource` maneja la conexi贸n con la base de datos local.
    * `models`: Modelos de datos espec铆ficos para la base de datos (`TransactionModel`) que se mapean desde y hacia las entidades del dominio.
    * `repositories`: Implementaciones de las interfaces del dominio (`TransactionRepositoryImpl`).

#### `presentation` (La Interfaz de Usuario)
* **Responsabilidad**: Muestra la interfaz de usuario y gestiona la interacci贸n del usuario. Depende de la capa `domain` (a trav茅s de los providers) pero no conoce la capa `infrastructure`.
* **Componentes**:
    * `screens`: Las pantallas principales de la aplicaci贸n (`OverviewScreen`).
    * `widgets`: Widgets reutilizables que componen las pantallas.
    * `providers`: Gestores de estado (`Provider`) que conectan la UI con los casos de uso del dominio y notifican los cambios.

#### `config` (El Pegamento)
* **Responsabilidad**: Contiene la configuraci贸n transversal que une todas las capas.
* **Componentes**:
    * `di/service_locator.dart`: Configura la **Inyecci贸n de Dependencias** con `get_it`, registrando las implementaciones de los repositorios para que puedan ser usadas en la capa de presentaci贸n.
    * `router/app_router.dart`: Define las rutas de navegaci贸n con `go_router`.
    * `theme/app_theme.dart`: Define el estilo visual de la aplicaci贸n.

## 4. Stack Tecnol贸gico y Herramientas

* **Framework**: Flutter
* **Base de Datos Local**: Isar
* **Gesti贸n de Estado**: Provider
* **Inyecci贸n de Dependencias**: get_it
* **Enrutamiento**: go_router
* **Tipograf铆a**: google_fonts
* **Formateo**: intl
* **Generaci贸n de C贸digo**: build_runner
* **Linter**: flutter_lints

## 5. Gu铆a de Contribuci贸n y Convenciones

Para mantener la consistencia, es **obligatorio** seguir las siguientes convenciones.

### Nomenclatura de Ramas

Toda rama debe estar asociada a un *issue* de GitHub Projects y seguir este formato estricto:

**`tipo/id_de_la_tarea/descripcion_corta`**

* **`tipo`**: Prefijo que indica el prop贸sito de la rama. Solo se permiten:
    * `feature`: Para desarrollar una nueva funcionalidad.
    * `fix`: Para corregir un error.
* **`id_de_la_tarea`**: El n煤mero del *issue* de GitHub Projects al que corresponde la rama.
* **`descripcion_corta`**: Una descripci贸n breve y clara, usando **guiones bajos (`_`)** para separar las palabras.

**Ejemplo V谩lido:**
`feature/221441/nueva_funcionalidad_pantalla_perfil`

### Formato de Commits

Seguimos una versi贸n simplificada de **Conventional Commits**. La estructura es **obligatoria** y debe ser la siguiente:

**`<tipo>[谩mbito]: <descripci贸n corta>`**

* **`<tipo>`**: Define el tipo de cambio. Valores permitidos:
    * `feat`: Una nueva funcionalidad.
    * `fix`: Una correcci贸n de un error.
    * `chore`: Cambios en el proceso de build, dependencias o herramientas.
    * `docs`: Cambios en la documentaci贸n.
    * `refactor`: Cambios en el c贸digo que no corrigen un error ni a帽aden una funcionalidad.
    * `test`: A帽adir o corregir pruebas.
* **`[谩mbito]`**: **Requerido**. Especifica el lugar del c贸digo que se est谩 modificando. Debe ser el nombre del directorio principal de la capa afectada (`domain`, `infrastructure`, `presentation`, `config`).
* **`<descripci贸n corta>`**: Un resumen conciso del cambio, en presente y en min煤sculas.

**Ejemplos V谩lidos:**
* `feat[presentation]: la interfaz de usuario ahora es responsive para la web`
* `fix[domain]: corrige el c谩lculo en el caso de uso de balance total`
* `refactor[infrastructure]: optimiza la consulta de transacciones en isar`

## 6. Versionamiento y Changelog

### Versionamiento Sem谩ntico (SemVer)

Usamos el formato `MAYOR.MENOR.PARCHE` para versionar la aplicaci贸n, gestionado en `pubspec.yaml`.
* **`MAYOR`**: Para cambios incompatibles.
* **`MENOR`**: Para nuevas funcionalidades retrocompatibles (`feat`).
* **`PARCHE`**: Para correcciones de errores retrocompatibles (`fix`).

### Formato del Changelog

Mantenemos un archivo `CHANGELOG.md` que sigue el formato de [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

Cuando se integra un Pull Request a `main`, la entrada en el changelog debe seguir este formato espec铆fico, incluyendo el ID del PR:

**`## [numero de version] (fecha) !ID_DE_PR`**

* **`numero de version`**: La versi贸n de la aplicaci贸n que se est谩 lanzando.
* **`fecha`**: La fecha del lanzamiento en formato `YYYY-MM-DD`.
* **`!ID_DE_PR`**: El identificador del Pull Request de GitHub (ej. `!12345`).

**Ejemplo de una entrada en el `CHANGELOG.md`:**

```markdown
# Changelog

## [0.2.0] (2025-07-12) !23

### Added
- Permite filtrar transacciones por semana, mes y rango de fechas personalizado.

### Fixed
- El c谩lculo del balance total ahora se actualiza correctamente.

## [0.1.0] (2025-07-05) !12
### Added
- Versi贸n inicial de ZenFi.


7. Configuraci贸n Inicial del Proyecto
Clona el repositorio.

git clone <URL_DEL_REPOSITORIO> && cd expenses_app


Instala dependencias.

flutter pub get


Aplica el fix de Isar (Solo la primera vez).

./fix_isar_namespace.sh


Genera los archivos de c贸digo.

dart run build_runner build --delete-conflicting-outputs


Ejecuta la aplicaci贸n.

flutter run
